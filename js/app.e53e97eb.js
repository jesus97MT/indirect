(function(t){function e(e){for(var n,a,s=e[0],l=e[1],c=e[2],u=0,f=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,a=1;a<i.length;a++){var l=i[a];0!==r[l]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},r={app:0},o=[];function a(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"8abb9ff9"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(t){var e=[],i=r[t];if(0!==i)if(i)e.push(i[2]);else{var n=new Promise((function(e,n){i=r[t]=[e,n]}));e.push(i[2]=n);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=a(t);var c=new Error;o=function(e){l.onerror=l.onload=null,clearTimeout(u);var i=r[t];if(0!==i){if(i){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",c.name="ChunkLoadError",c.type=n,c.request=o,i[1](c)}r[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/indirect/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"06fe":function(t,e,i){t.exports=i.p+"img/logo.6062aa2a.png"},1:function(t,e){},5226:function(t,e,i){"use strict";var n=i("6a69"),r=i.n(n);r.a},"6a69":function(t,e,i){},"7d2f":function(t,e,i){"use strict";var n=i("d10e"),r=i.n(n);r.a},cd49:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",{style:"background-color:"+this.$vuetify.theme.themes.light.base,attrs:{id:"sandbox",light:""}},[t.isLoading?i("spinner",{attrs:{isLoading:t.isLoading}}):i("div",[i("HeaderNav",{attrs:{user:t.user,account:t.account},on:{"update:user":function(e){t.user=e},"update:account":function(e){t.account=e},clickDisconect:t.clickDisconect,onEnterSearch:function(e){return t.onEnterSearch(e)}}}),i("v-content",[i("router-view",{key:t.$route.fullPath})],1)],1)],1)},o=[],a=(i("a4d3"),i("4de4"),i("4160"),i("e439"),i("dbb4"),i("b64b"),i("ac1f"),i("841c"),i("159b"),i("ade3")),s=(i("b0c0"),i("d3b7"),i("8055")),l=i.n(s),c=i("2f62"),u=(i("4fad"),i("3ca3"),i("ddb0"),i("e9b9")),d={login:f,logout:m,register:v,getAll:D,getById:j,update:P,delete:x,updateUserData:g,getUserDataByUserId:h,followUser:b,unFollowUser:w,getUserData:p,stopListenSocket:I,getUserFollowList:y,getUserMutualList:O,setNewProfilePic:k};function f(t,e){bi.login(t,e);var i=bi.getSocket();return new Promise((function(e,n){i.on("error",(function(t){i.close(),n(null)})),i.on("getToken",(function(i){localStorage.setItem("user",t),localStorage.setItem("token",i),e({email:t,token:i})}))}))}function m(){var t=bi.getSocket();t.emit("logout"),localStorage.removeItem("user"),localStorage.removeItem("token")}function v(t,e,i){bi.createUser(t,e,i);var n=bi.getSocket();return new Promise((function(e,i){n.on("error",(function(t){n.close(),i(null)})),n.on("getToken",(function(i){localStorage.setItem("user",t),localStorage.setItem("token",i),e({email:t,token:i})}))}))}function p(t){bi.getUserByToken(t);var e=bi.getSocket();return u["a"].create((function(t){e.on("error",(function(i){e.close(),t.next(null)})),e.on("getUserByToken",(function(e){t.next(e)})),e.on("getUserAvatarByToken",(function(e){t.next(e)}))}))}function g(t){bi.updateUserData(t);bi.getSocket();return new Promise((function(t,e){t(!0)}))}function h(t,e){bi.getUserByUserId(t);var i=bi.getSocket();return u["a"].create((function(t){i.on("error",(function(e){i.close(),t.next(null)})),i.on("getUserByUserId",(function(e){t.next(e)})),i.on("getUserAvatarByUserId",(function(e){t.next(e)}))}))}function b(t){bi.followUser(t);var e=bi.getSocket();return new Promise((function(t,i){e.on("error",(function(t){e.close(),i(null)})),e.on("onFollowUser",(function(e){t(e)}))}))}function w(t){bi.unFollowUser(t);var e=bi.getSocket();return new Promise((function(t,i){e.on("error",(function(t){e.close(),i(null)})),e.on("onUnFollowUser",(function(e){t(e)}))}))}function y(t,e){bi.getUserFollowList(t,e);var i=bi.getSocket(),n=new Promise((function(t,e){i.on("error",(function(t){i.close(),e(null)})),i.on("getFollowList",(function(e){t(e)}))})),r=new Promise((function(t,e){i.on("error",(function(t){i.close(),e(null)})),i.on("getFollowListImages",(function(e){t(e)}))})),o=[n,r];return Promise.all(o)}function O(t){bi.getUserMutualList(t);var e=bi.getSocket();return new Promise((function(t,i){e.on("error",(function(t){e.close(),i(null)})),e.on("getMutualList",(function(e){t(e)}))}))}function k(t){bi.setNewProfilePic(t);var e=bi.getSocket();return new Promise((function(t,i){e.on("error",(function(t){e.close(),i(null)})),e.on("getMutualList",(function(e){t(e)}))}))}function I(t){var e=bi.getSocket();e.off(t)}function D(){}function j(){}function P(){}function x(){}var U={addIndirect:L,loadIndirect:_};function L(t){bi.addIndirect(t);var e=bi.getSocket();return new Promise((function(t,i){e.on("error",(function(t){e.close(),i(null)})),e.on("onAddIndirect",(function(e){t(e)}))}))}function _(){bi.getIndirects();var t=bi.getSocket(),e=new Promise((function(e,i){t.on("error",(function(e){t.close(),i(null)})),t.on("onGetIndirects",(function(t){e(t)}))})),i=new Promise((function(e,i){t.on("error",(function(e){t.close(),i(null)})),t.on("onGetIndirectsAvatars",(function(t){e(t)}))})),n=[e,i];return Promise.all(n)}i("caad");var S=i("8c4f"),F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ml-sm-8 mt-sm-8 mt-0",staticStyle:{width:"100%","max-width":"800px"}},[t._l(t.indirects,(function(e){return i("div",{key:e.id,staticClass:"home mt-6 mx-4 mx-sm-0"},[i("Indirect",{attrs:{indirect:e,avatars:t.avatars,type:!0}})],1)})),i("v-btn",{attrs:{color:"primary",fixed:"",bottom:"",right:"",fab:""},on:{click:t.onAddIndirect}},[i("v-icon",[t._v("edit")])],1)],2)},C=[],V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.type?n("v-card",{staticClass:"mx-auto",style:"border-bottom:1px solid "+this.$vuetify.theme.themes.light.separator+"!important",attrs:{color:"#26c6da",dark:"",tile:""}},[n("v-card-title",[n("span",{staticClass:"title font-weight-black"},[t._v("@"+t._s(t.indirect.userData.userId))]),n("img",{staticClass:"ml-auto",staticStyle:{width:"48px"},attrs:{src:i("06fe")}})]),n("v-card-text",{staticClass:"headline font-weight-bold"},[t._v(t._s(t.indirect.text))]),n("v-card-actions",[n("v-list-item",{staticClass:"grow"},[n("v-list-item-avatar",{attrs:{color:"grey darken-3"}},[n("v-img",{staticClass:"elevation-6",attrs:{src:t.avatars&&t.indirect.userData.userUID&&t.avatars[t.indirect.userData.userUID]||t.defaultPic}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.indirect.userData.name+" "+t.indirect.userData.surname))])],1),n("v-list-item-content",[n("span",{staticClass:"font-italic caption font-weight-light"},[t._v(t._s(new Date(t.indirect.dateCreation).toLocaleString()))])]),n("v-row",{attrs:{align:"center",justify:"end"}},[n("v-icon",{staticClass:"mr-1"},[t._v("mdi-heart")]),n("span",{staticClass:"subheading mr-2"},[t._v("0")]),n("span",{staticClass:"mr-1"},[t._v("Â·")]),n("v-icon",{staticClass:"mr-1"},[t._v("mdi-share-variant")])],1)],1)],1)],1):n("v-card",{staticClass:"mx-auto",attrs:{color:"#26c6da",dark:"",tile:""}},[n("v-card-title",[n("v-icon",{attrs:{large:"",left:""}},[t._v("mdi-twitter")])],1),n("v-card-text",{staticClass:"headline font-weight-bold"},[n("v-textarea",{attrs:{name:"input-7-4",label:"Create a new Indirect!!"},model:{value:t.textNewIndirect,callback:function(e){t.textNewIndirect=e},expression:"textNewIndirect"}})],1),n("v-card-actions",[n("v-list-item",{staticClass:"grow"},[t.typeNewIndirect?n("v-list-item-content",{staticStyle:{"flex-grow":"4"}},[n("v-list-item-title",[t._v("Public Indirect")])],1):n("v-list-item-content",{staticStyle:{"flex-grow":"4"}},[n("v-autocomplete",{attrs:{items:t.mutualList,label:"Private Indirect",multiple:"",chips:"",hint:"Select mutuals","persistent-hint":""},scopedSlots:t._u([{key:"selection",fn:function(e){return[n("v-chip",t._b({attrs:{"input-value":e.selected,close:""},on:{click:e.select,"click:close":function(i){return t.remove(e.item)}}},"v-chip",e.attrs,!1),[n("v-avatar",{attrs:{left:""}},[n("v-img")],1),t._v(" "+t._s(e.item.text)+" ")],1)]}},{key:"item",fn:function(e){return["object"!==typeof e.item?[n("v-list-item-content",{domProps:{textContent:t._s(e.item)}})]:[n("v-list-item-avatar",[n("img",{attrs:{src:e.item.avatar}})]),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:t._s(e.item.text)}})],1)]]}}]),model:{value:t.indirectTo,callback:function(e){t.indirectTo=e},expression:"indirectTo"}})],1),n("v-list-item-content",{staticClass:"flex-grow-1 flex-shrink-0"},[n("div",[n("v-checkbox",{staticClass:"float-right",model:{value:t.typeNewIndirect,callback:function(e){t.typeNewIndirect=e},expression:"typeNewIndirect"}})],1)])],1)],1),n("v-list-item-content",{staticClass:"mx-4 my-2"},[n("v-btn",{attrs:{small:"",block:"",color:"secondary"},on:{click:t.sendIndirect}},[t._v("Send")])],1)],1)],1)},$=[],E=i("d4ec"),N=i("bee2"),A=i("99de"),B=i("7e84"),T=i("262e"),R=i("9ab4"),M=i("60a3"),J=function(t){function e(){var t;return Object(E["a"])(this,e),t=Object(A["a"])(this,Object(B["a"])(e).apply(this,arguments)),t.textNewIndirect="",t.typeNewIndirect=!0,t.indirectTo=[],t.defaultPic="https://iupac.org/wp-content/uploads/2018/05/default-avatar.png",t}return Object(T["a"])(e,t),Object(N["a"])(e,[{key:"sendIndirect",value:function(){if(this.verifyIndirect()){var t={text:this.textNewIndirect,public:this.typeNewIndirect,uids:this.indirectTo&&this.indirectTo.length?this.indirectTo:null};this.$emit("onSendIndirect",t)}}},{key:"verifyIndirect",value:function(){if(this.textNewIndirect){if(this.typeNewIndirect)return!0;if(this.indirectTo&&this.indirectTo.length)return!0}}}]),e}(M["c"]);R["a"]([Object(M["b"])()],J.prototype,"indirect",void 0),R["a"]([Object(M["b"])()],J.prototype,"type",void 0),R["a"]([Object(M["b"])()],J.prototype,"mutualList",void 0),R["a"]([Object(M["b"])()],J.prototype,"avatars",void 0),J=R["a"]([M["a"]],J);var q=J,H=q,z=(i("5226"),i("2877")),G=i("6544"),K=i.n(G),Q=i("c6a6"),W=i("8212"),X=i("8336"),Y=i("b0af"),Z=i("99d9"),tt=i("ac7c"),et=i("cc20"),it=i("132d"),nt=i("adda"),rt=i("da13"),ot=i("8270"),at=i("5d23"),st=i("0fd9"),lt=i("a844"),ct=Object(z["a"])(H,V,$,!1,null,"13a5f55e",null),ut=ct.exports;function dt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ft(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):dt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}K()(ct,{VAutocomplete:Q["a"],VAvatar:W["a"],VBtn:X["a"],VCard:Y["a"],VCardActions:Z["a"],VCardText:Z["b"],VCardTitle:Z["c"],VCheckbox:tt["a"],VChip:et["a"],VIcon:it["a"],VImg:nt["a"],VListItem:rt["a"],VListItemAvatar:ot["a"],VListItemContent:at["a"],VListItemTitle:at["c"],VRow:st["a"],VTextarea:lt["a"]});var mt={name:"MainFeed",components:{Indirect:ut},computed:ft({},Object(c["c"])("indirect",{indirects:"getIndirectsData",avatars:"getIndirectsAvatars"})),methods:ft({},Object(c["b"])("account",["logout"]),{},Object(c["b"])("indirect",["loadIndirects"]),{clickDisconect:function(t){this.logout()},onAddIndirect:function(){this.$router.push("/add")}}),data:function(){return{}},created:function(){},mounted:function(){this.loadIndirects()}},vt=mt,pt=Object(z["a"])(vt,F,C,!1,null,null,null),gt=pt.exports;K()(pt,{VBtn:X["a"],VIcon:it["a"]});var ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main mx-5 my-5"},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{width:"500px"}},[n("v-img",{attrs:{src:i("06fe"),"aspect-ratio":"1.5"}}),n("div",{staticClass:"mx-4"},[n("v-form",{staticClass:"mt-4"},[n("v-text-field",{attrs:{rules:[function(){return!!t.loginData.email||"This field is required"}],label:"Email",name:"email","prepend-icon":"person",type:"text",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onLogin(e)}},model:{value:t.loginData.email,callback:function(e){t.$set(t.loginData,"email",e)},expression:"loginData.email"}}),n("v-text-field",{attrs:{rules:[function(){return!!t.loginData.password||"This field is required"}],id:"password",label:"Password",name:"password","prepend-icon":"lock",type:"password",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onLogin(e)}},model:{value:t.loginData.password,callback:function(e){t.$set(t.loginData,"password",e)},expression:"loginData.password"}})],1),n("v-btn",{staticClass:"main mt-6 mb-4",attrs:{disabled:!(t.loginData.email&&t.loginData.password),block:"",color:"primary"},on:{click:t.onLogin}},[t._v("Login")]),n("v-btn",{attrs:{block:"",to:"/register"}},[t._v("Don't have an account?")])],1)],1),n("v-list",{staticClass:"d-none d-sm-block my-5 ml-5",staticStyle:{"max-width":"300px"}},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("App created by")]),n("v-list-item-subtitle",[t._v("JesÃºs MartÃ­nez Torrecilla")])],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("Version App")]),n("v-list-item-subtitle",[t._v("1.0.0")])],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("Contact")]),n("v-list-item-subtitle",[t._v("jesusmartorrecilla@gmail.com")])],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("Github")]),n("v-list-item-subtitle",[t._v("https://github.com/jesus97MT")])],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("About the App")]),n("v-list-item-subtitle",{staticStyle:{"white-space":"initial!important"}},[t._v("Indirect is an application to talk with friends and send indirects messages that the receipt doesnt know that your indirect is for him/her.")])],1)],1)],1)],1)])},bt=[];function wt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function yt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):wt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Ot={data:function(){return{loginData:{email:"",password:""}}},methods:yt({},Object(c["b"])("account",["login"]),{onLogin:function(){var t=this.loginData.email,e=this.loginData.password;t&&e&&this.login({email:t,password:e})}})},kt=Ot,It=i("4bd4"),Dt=i("8860"),jt=i("8654"),Pt=Object(z["a"])(kt,ht,bt,!1,null,"63e63e9a",null),xt=Pt.exports;K()(Pt,{VBtn:X["a"],VForm:It["a"],VImg:nt["a"],VList:Dt["a"],VListItem:rt["a"],VListItemContent:at["a"],VListItemSubtitle:at["b"],VListItemTitle:at["c"],VTextField:jt["a"]});var Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main mx-5 my-5"},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{width:"500px"}},[n("v-img",{attrs:{src:i("06fe"),"aspect-ratio":"1.5"}}),n("div",{staticClass:"mx-4"},[n("v-form",{staticClass:"mt-4"},[n("v-text-field",{attrs:{rules:[function(){return!!t.registerData.userId||"This field is required"}],label:"Enter a unique username",name:"userId","prepend-icon":"person",type:"text",required:""},model:{value:t.registerData.userId,callback:function(e){t.$set(t.registerData,"userId",e)},expression:"registerData.userId"}}),n("v-text-field",{attrs:{rules:[function(){return!!t.registerData.email||"This field is required"}],label:"Email",name:"email","prepend-icon":"email",type:"text",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onLogin(e)}},model:{value:t.registerData.email,callback:function(e){t.$set(t.registerData,"email",e)},expression:"registerData.email"}}),n("v-text-field",{attrs:{rules:[function(){return!!t.registerData.password||"This field is required"}],id:"password",label:"Password",name:"password","prepend-icon":"lock",type:"password",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onLogin(e)}},model:{value:t.registerData.password,callback:function(e){t.$set(t.registerData,"password",e)},expression:"registerData.password"}})],1),n("v-btn",{staticClass:"main mt-6 mb-4",attrs:{disabled:!(t.registerData.email&&t.registerData.password&&t.registerData.userId),block:"",color:"primary"},on:{click:t.onRegister}},[t._v("Register")]),n("v-btn",{attrs:{block:"",to:"/login"}},[t._v("Have an account?")])],1)],1),n("v-list",{staticClass:"d-none d-sm-block my-5 ml-5",staticStyle:{"max-width":"300px"}},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("App created by")]),n("v-list-item-subtitle",[t._v("JesÃºs MartÃ­nez Torrecilla")])],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("Version App")]),n("v-list-item-subtitle",[t._v("1.0.0")])],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("Contact")]),n("v-list-item-subtitle",[t._v("jesusmartorrecilla@gmail.com")])],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("Github")]),n("v-list-item-subtitle",[t._v("https://github.com/jesus97MT")])],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("About the App")]),n("v-list-item-subtitle",{staticStyle:{"white-space":"initial!important"}},[t._v("Indirect is an application to talk with friends and send indirects messages that the receipt doesnt know that your indirect is for him/her.")])],1)],1)],1)],1)])},Lt=[];function _t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function St(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_t(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Ft={data:function(){return{registerData:{userId:"",email:"",password:""}}},methods:St({},Object(c["b"])("account",["register"]),{onRegister:function(){var t=this.registerData.userId,e=this.registerData.email,i=this.registerData.password;e&&i&&t&&(this.register({email:e,password:i,userId:t}),this.$router.push("login"))}})},Ct=Ft,Vt=Object(z["a"])(Ct,Ut,Lt,!1,null,"a7392996",null),$t=Vt.exports;K()(Vt,{VBtn:X["a"],VForm:It["a"],VImg:nt["a"],VList:Dt["a"],VListItem:rt["a"],VListItemContent:at["a"],VListItemSubtitle:at["b"],VListItemTitle:at["c"],VTextField:jt["a"]});var Et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ProfileForm",{staticClass:"ml-sm-8 mt-sm-8 mt-0",staticStyle:{width:"100%","max-width":"800px"},attrs:{user:t.ownProfile?t.userData.data:t.userFind.data,userFollowing:!t.ownProfile&&t.userData&&t.userData.data&&t.userData.data.following||null,ownProfile:t.ownProfile,avatar:t.user.avatar},on:{"update:userFollowing":function(e){return t.$set(!t.ownProfile&&t.userData&&t.userData.data&&t.userData.data,"following || null",e)},"update:user-following":function(e){return t.$set(!t.ownProfile&&t.userData&&t.userData.data&&t.userData.data,"following || null",e)},"update:ownProfile":function(e){t.ownProfile=e},"update:own-profile":function(e){t.ownProfile=e},"update:avatar":function(e){return t.$set(t.user,"avatar",e)},onSaveData:function(e){return t.onSaveData(e)},onCancelEdit:t.onCancelEdit,onFollow:t.onFollow,onUnFollow:t.onUnFollow,onFollowersList:t.onFollowersList,onFollowingList:t.onFollowingList}})],1)},Nt=[],At=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{height:"100%"}},[i("div",{staticClass:"mx-auto",style:"background: linear-gradient(to right, "+this.$vuetify.theme.themes.light.secondary+" 0%, "+this.$vuetify.theme.themes.light.primary+" 130%);",attrs:{"max-width":"434",height:"45%",align:"center"}},[i("v-row",{staticClass:"fill-height mx-0",attrs:{align:"end"}},[i("v-col",{staticClass:"pa-0",attrs:{"align-self":"start",cols:"12"}},[i("v-sheet",{staticClass:"mx-auto my-sm-12 my-0",class:t.editing?"avatar ":"",attrs:{elevation:"20",height:"164",width:"164",light:""}},[i("label",{attrs:{for:"myInputFile"}},[i("v-avatar",{staticClass:"profile",attrs:{size:"164",tile:""}},[i("v-img",{attrs:{id:"avatar",src:t.editing&&t.newImageURL||t.avatar||t.defaultPic}})],1),t.editing?i("input",{staticStyle:{display:"none"},attrs:{type:"file",name:"myInputFile",id:"myInputFile"},on:{change:t.previewFiles}}):t._e()],1)])],1),i("v-col",{},[i("v-list-item",{attrs:{color:"rgba(0, 0, 0, .4)",dark:""}},[i("v-list-item-content",[t.editing?i("v-list-item-title",{staticClass:"title"},[t.user?i("v-text-field",{staticStyle:{width:"250px"},attrs:{label:"@username",required:"",readonly:!t.editing,disabled:!t.editing},model:{value:t.user.userId,callback:function(e){t.$set(t.user,"userId",e)},expression:"user.userId"}}):t._e()],1):i("v-list-item-title",{staticClass:"title"},[t._v(t._s(t.user&&t.user.userId))]),i("v-list-item-subtitle",[t._v("Madrid EspaÃ±a")])],1)],1)],1)],1),t.ownProfile&&t.editing?i("v-btn",{staticClass:"d-none d-sm-block",staticStyle:{left:"-320px",top:"-350px"},attrs:{color:"red",dark:""},on:{click:function(e){return t.onCancelEdit()}}},[i("v-icon",[t._v("cancel")])],1):t._e(),t.ownProfile?i("v-btn",{staticClass:"d-none d-sm-block",style:t.editing?"right:-320px; top:-390px":"right:-320px; top:-315px",attrs:{color:t.editing?"#1DE9B6":"#26C6DA",dark:""},on:{click:function(e){t.editing?t.onSaveData():t.editing=!0}}},[i("v-icon",[t._v(t._s(t.editing?"check":"edit"))])],1):t._e()],1),i("div",[i("div",{staticClass:"mx-auto",style:"background: linear-gradient(to right, "+this.$vuetify.theme.themes.light.primary+" 50%, "+this.$vuetify.theme.themes.light.secondary+" 50%);",attrs:{"max-width":"434",height:"45%",align:"center"}},[i("v-row",{staticClass:"fill-height mx-0",attrs:{align:"end"}},[i("v-list-item",{staticClass:"pa-0",attrs:{color:"rgba(0, 0, 0, .4)",dark:""}},[i("v-col",{staticClass:"pa-0"},[i("v-list-item",{staticClass:"pa-0",attrs:{color:"rgba(0, 0, 0, .4)",dark:""}},[i("v-list-item-content",{staticClass:"pointer",on:{click:function(e){return t.onFollowersList()}}},[i("v-list-item-title",{staticClass:"title"},[t._v(t._s(t.user&&t.user.followers&&t.user.followers.length||0))]),i("v-list-item-subtitle",[t._v("Followers")])],1),i("v-list-item-content",{staticClass:"pointer",on:{click:function(e){return t.onFollowingList()}}},[i("v-list-item-title",{staticClass:"title"},[t._v(t._s(t.user&&t.user.following&&t.user.following.length||0))]),i("v-list-item-subtitle",[t._v("Following")])],1)],1)],1)],1)],1)],1)]),i("div",{staticClass:"my-8 mx-12 mx-md-0"},[t.ownProfile&&t.user?i("v-text-field",{attrs:{label:"E-mail",required:"",readonly:!t.editing,disabled:!0},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}):t._e(),t.user?i("v-text-field",{attrs:{label:"Name",required:"",readonly:!t.editing,disabled:!t.editing},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}):t._e(),t.user?i("v-text-field",{attrs:{label:"Surname",required:"",readonly:!t.editing,disabled:!t.editing},model:{value:t.user.surname,callback:function(e){t.$set(t.user,"surname",e)},expression:"user.surname"}}):t._e(),t.user?i("v-text-field",{attrs:{label:"Date",readonly:!t.editing,disabled:!t.editing,required:""},model:{value:t.user.date,callback:function(e){t.$set(t.user,"date",e)},expression:"user.date"}}):t._e()],1),t.ownProfile?i("v-btn",{staticClass:"d-sm-none",attrs:{color:t.editing?"#1DE9B6":"#26C6DA",dark:"",fixed:"",bottom:"",right:"",fab:""},on:{click:function(e){t.editing?t.onSaveData():t.editing=!0}}},[i("v-icon",[t._v(t._s(t.editing?"check":"edit"))])],1):t._e(),t.ownProfile&&t.editing?i("v-btn",{staticClass:"d-sm-none",attrs:{color:"red",dark:"",fixed:"",bottom:"",left:"",fab:""},on:{click:function(e){return t.onCancelEdit()}}},[i("v-icon",[t._v("cancel")])],1):t._e(),i("div",{staticClass:"d-none d-sm-block",staticStyle:{width:"100%"}},[t.ownProfile?t._e():i("v-btn",{staticClass:"px-6",staticStyle:{width:"100%"},attrs:{bottom:"",color:t.isFollowing()?"error":"primary"},on:{click:t.onFollowButton}},[t._v(t._s(t.isFollowing()?"Unfollow":"Follow"))])],1),i("div",{staticClass:"px-4 d-sm-none",staticStyle:{width:"100%"}},[t.ownProfile?t._e():i("v-btn",{staticClass:"px-6",staticStyle:{width:"92%"},attrs:{fixed:"",bottom:"",color:t.isFollowing()?"error":"primary"},on:{click:t.onFollowButton}},[t._v(t._s(t.isFollowing()?"Unfollow":"Follow"))])],1)],1)},Bt=[],Tt=(i("c975"),i("2b3d"),function(t){function e(){var t;return Object(E["a"])(this,e),t=Object(A["a"])(this,Object(B["a"])(e).apply(this,arguments)),t.editing=!1,t.defaultPic="https://iupac.org/wp-content/uploads/2018/05/default-avatar.png",t.newImageURL="",t}return Object(T["a"])(e,t),Object(N["a"])(e,[{key:"isFollowing",value:function(){if(!this.ownProfile&&this.userFollowing){var t=this.userFollowing.indexOf(this.user.userUID);return-1!==t}}},{key:"onSaveData",value:function(){this.editing=!1,this.$emit("onSaveData",this.newImage)}},{key:"onCancelEdit",value:function(){this.editing=!1,this.$emit("onCancelEdit"),this.newImageURL="",this.newImage=null}},{key:"onFollowButton",value:function(){this.isFollowing()?this.unFollow():this.follow()}},{key:"follow",value:function(){this.$emit("onFollow")}},{key:"unFollow",value:function(){this.$emit("onUnFollow")}},{key:"onFollowersList",value:function(){this.$emit("onFollowersList")}},{key:"onFollowingList",value:function(){this.$emit("onFollowingList")}},{key:"previewFiles",value:function(t){this.newImage=t.target.files[0];document.getElementById("avatar");this.newImageURL=URL.createObjectURL(this.newImage)}}]),e}(M["c"]));R["a"]([Object(M["b"])()],Tt.prototype,"ownProfile",void 0),R["a"]([Object(M["b"])()],Tt.prototype,"user",void 0),R["a"]([Object(M["b"])()],Tt.prototype,"userFollowing",void 0),R["a"]([Object(M["b"])()],Tt.prototype,"avatar",void 0),Tt=R["a"]([M["a"]],Tt);var Rt,Mt=Tt,Jt=Mt,qt=(i("7d2f"),i("62ad")),Ht=i("8dd9"),zt=Object(z["a"])(Jt,At,Bt,!1,null,"041d70fe",null),Gt=zt.exports;function Kt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Qt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Kt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}K()(zt,{VAvatar:W["a"],VBtn:X["a"],VCol:qt["a"],VIcon:it["a"],VImg:nt["a"],VListItem:rt["a"],VListItemContent:at["a"],VListItemSubtitle:at["b"],VListItemTitle:at["c"],VRow:st["a"],VSheet:Ht["a"],VTextField:jt["a"]});var Wt={components:{ProfileForm:Gt},computed:Qt({},Object(c["d"])({account:function(t){return t.account}}),{},Object(c["c"])("user",{user:"getUserData",userFind:"getPublicProfile"})),watch:{user:function(){this.userData=JSON.parse(JSON.stringify(this.user))}},mounted:function(){var t=this.$route.params.id,e=new Promise((function(t,e){Rt=t}));t?(this.ownProfile=!1,this.findPublicProfile({userId:t,promise:e}),this.userData&&!this.userData.data&&this.getOwnUserdata(e)):this.getOwnUserdata(e)},destroyed:function(){Rt()},methods:Qt({},Object(c["b"])("user",["getOwnUserdata","saveUserData","resetUserData","findPublicProfile","followUser","unFollowUser","saveNewProfilePic"]),{onSaveData:function(t){this.saveUserData(this.userData.data),t&&this.saveNewProfilePic(t)},onCancelEdit:function(){this.userData=JSON.parse(JSON.stringify(this.user))},onFollow:function(){this.userFind.data&&this.userFind.data.userUID&&this.followUser(this.userFind.data.userUID)},onUnFollow:function(){this.userFind&&this.userFind.data.userUID&&this.unFollowUser(this.userFind.data.userUID)},onFollowersList:function(){var t=this.$route.params.id,e="/followers";!this.ownProfile&&t&&(e+="/".concat(t)),this.$router.push(e)},onFollowingList:function(){var t=this.$route.params.id,e="/following";!this.ownProfile&&t&&(e+="/".concat(t)),this.$router.push(e)}}),data:function(){return{ownProfile:!0,userData:{}}}},Xt=Wt,Yt=Object(z["a"])(Xt,Et,Nt,!1,null,null,null),Zt=Yt.exports,te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{align:"center"}},[i("v-alert",{staticClass:"my-6 mx-6",attrs:{dense:"",text:"",type:"info",color:"primary"}},[t._v(" Usuario no encontrado ")]),i("v-img",{attrs:{width:"250px",src:"https://pngimage.net/wp-content/uploads/2018/06/sad-face-png-1.png"}}),i("div",{staticClass:"my-2"},[i("v-btn",{attrs:{text:"","x-large":"",color:"primary"},on:{click:function(e){return t.$router.go(-2)}}},[t._v("VOLVER")])],1)],1)},ee=[],ie=function(t){function e(){return Object(E["a"])(this,e),Object(A["a"])(this,Object(B["a"])(e).apply(this,arguments))}return Object(T["a"])(e,t),e}(M["c"]);ie=R["a"]([M["a"]],ie);var ne=ie,re=ne,oe=i("0798"),ae=Object(z["a"])(re,te,ee,!1,null,"1a301bb6",null),se=ae.exports;K()(ae,{VAlert:oe["a"],VBtn:X["a"],VImg:nt["a"]});var le=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ml-sm-8 mt-sm-8 mt-0",staticStyle:{width:"100%","max-width":"800px"}},t._l(t.userList,(function(e){return i("div",{key:e.userUID,staticClass:"mt-6 mx-4 mx-sm-0"},[i("FollowCard",{attrs:{user:e,myUser:t.myUser.data,avatars:t.avatars},on:{"update:user":function(t){e=t},"update:myUser":function(e){return t.$set(t.myUser,"data",e)},"update:my-user":function(e){return t.$set(t.myUser,"data",e)},onFollowButton:t.onFollowButton}})],1)})),0)},ce=[],ue=(i("2532"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"mx-auto",style:"border:0!important;  "+this.$vuetify.theme.themes.light.primary+"!important",attrs:{width:"100%",tile:"",ripple:!1},on:{click:function(e){return t.$router.push("/profile/"+t.user.userId)}}},[i("v-list-item",{attrs:{"three-line":""}},[i("v-list-item-avatar",{attrs:{tile:"",size:"80",color:"grey"}},[i("v-img",{attrs:{src:t.avatars&&t.user&&t.user.userUID&&t.avatars[t.user.userUID]||t.defaultPic}})],1),i("v-list-item-content",[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div",{staticClass:"overline mb-4"},[t._v("@"+t._s(t.user.userId))]),t.isMyProfile()?t._e():i("v-btn",{attrs:{color:t.isFollowing()?"error":"primary"},on:{click:function(e){return e.stopPropagation(),t.onFollowButton()}}},[t._v(t._s(t.isFollowing()?"Unfollow":"Follow"))])],1),i("v-list-item-title",{staticClass:"headline mb-1"},[t._v(t._s(t.user.name))])],1)],1)],1)}),de=[],fe=(i("7db0"),function(t){function e(){var t;return Object(E["a"])(this,e),t=Object(A["a"])(this,Object(B["a"])(e).apply(this,arguments)),t.defaultPic="https://iupac.org/wp-content/uploads/2018/05/default-avatar.png",t}return Object(T["a"])(e,t),Object(N["a"])(e,[{key:"isFollowing",value:function(){var t=this,e=this.myUser.following.find((function(e){return e==t.user.userUID}));return!!e}},{key:"isMyProfile",value:function(){return this.myUser.userUID===this.user.userUID}},{key:"onFollowButton",value:function(){var t=this.isFollowing(),e={type:t,userUID:this.user.userUID};this.$emit("onFollowButton",e)}}]),e}(M["c"]));R["a"]([Object(M["b"])()],fe.prototype,"user",void 0),R["a"]([Object(M["b"])()],fe.prototype,"myUser",void 0),R["a"]([Object(M["b"])()],fe.prototype,"avatars",void 0),fe=R["a"]([M["a"]],fe);var me=fe,ve=me,pe=Object(z["a"])(ve,ue,de,!1,null,null,null),ge=pe.exports;function he(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function be(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?he(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):he(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}K()(pe,{VBtn:X["a"],VCard:Y["a"],VImg:nt["a"],VListItem:rt["a"],VListItemAvatar:ot["a"],VListItemContent:at["a"],VListItemTitle:at["c"]});var we={components:{FollowCard:ge},computed:be({},Object(c["d"])({account:function(t){return t.account}}),{},Object(c["c"])("user",{userList:"getFollowListData",avatars:"getFollowListAvatars",myUser:"getUserData"})),mounted:function(){var t=this.$route.path;t.includes("following")?this.typeList="following":t.includes("followers")&&(this.typeList="followers");var e=this.$route.params.id||null;e&&(this.ownList=!1);var i={userId:e,typeList:this.typeList};this.findUserFollowList(i)},methods:be({},Object(c["b"])("user",["findUserFollowList","followUser","unFollowUser"]),{onFollowButton:function(t){var e=t.type,i=t.userUID;e?this.unFollowUser(i):this.followUser(i)}}),data:function(){return{ownList:!0,typeList:""}}},ye=we,Oe=Object(z["a"])(ye,le,ce,!1,null,null,null),ke=Oe.exports,Ie=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ml-sm-8 mt-sm-8 mt-0",staticStyle:{width:"100%","max-width":"800px"}},[i("Indirect",{staticClass:"mt-6 mx-4 mx-sm-0",attrs:{type:!1,mutualList:t.mutualListParsed},on:{onSendIndirect:function(e){return t.onSendIndirect(e)}}})],1)},De=[];function je(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Pe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?je(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):je(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var xe={components:{Indirect:ut},computed:Pe({},Object(c["c"])("user",{mutualList:"getMutualList"})),watch:{mutualList:function(t,e){var i=this;this.mutualList.forEach((function(t){var e={text:"@".concat(t.userId),value:t.userUID,avatar:t.profilePicUrl};i.mutualListParsed.push(e)}))}},mounted:function(){var t={userId:null};this.findUserMutuals(t)},methods:Pe({},Object(c["b"])("user",["findUserMutuals"]),{},Object(c["b"])("indirect",["addIndirect"]),{onSendIndirect:function(t){this.addIndirect(t),this.$router.push("/")}}),data:function(){return{mutualListParsed:[]}}},Ue=xe,Le=Object(z["a"])(Ue,Ie,De,!1,null,null,null),_e=Le.exports;n["a"].use(S["a"]);var Se=[{path:"/",name:"mainFeed",component:gt},{path:"/login",name:"Login",component:xt},{path:"/register",name:"Register",component:$t},{path:"/profile",name:"Profile",component:Zt},{path:"/profile/:id",name:"Profile",component:Zt},{path:"/profile-not-found",name:"Profile",component:se},{path:"/following",name:"FollowList",component:ke},{path:"/following/:id",name:"FollowList",component:ke},{path:"/followers",name:"FollowList",component:ke},{path:"/followers/:id",name:"FollowList",component:ke},{path:"/add",name:"NewIndirect",component:_e},{path:"/about",name:"about",component:function(){return i.e("about").then(i.bind(null,"f820"))}}],Fe=new S["a"]({mode:"history",base:"/indirect/",routes:Se});Fe.beforeEach((function(t,e,i){var n=["/login","/register"],r=!n.includes(t.path),o=We,a=o["state"]["account"]["status"]["loggedIn"];if(r&&!a)return i("/login");i()}));var Ce=Fe,Ve=localStorage.getItem("user")||{},$e=localStorage.getItem("token")||{},Ee=!Ve||0===Object.entries(Ve).length&&Ve.constructor===Object?{status:{},user:null,token:null}:{status:{loggedIn:!0},user:Ve,token:$e},Ne={login:function(t,e){var i=t.dispatch,n=t.commit,r=e.email,o=e.password;n("loginRequest",{email:r}),d.login(r,o).then((function(t){n("loginSuccess",t),Ce.push("/")}),(function(t){n("loginFailure",t),i("alert/error",t,{root:!0})}))},logout:function(t){var e=t.commit;console.log("eee"),d.logout(),e("logout"),Ce.push("/login")},register:function(t,e){var i=t.dispatch,n=t.commit,r=e.email,o=e.password,a=e.userId;n("registerRequest",Ve),d.register(r,o,a).then((function(t){n("registerSuccess",t),setTimeout((function(){i("alert/success","Registration successful",{root:!0})}))}),(function(t){n("registerFailure",t),i("alert/error",t,{root:!0})}))}},Ae={loginRequest:function(t,e){t.status={loggingIn:!0},t.user=e},loginSuccess:function(t,e){t.status={loggedIn:!0},t.user=e.email,t.token=e.token},loginFailure:function(t){t.status={},t.user=null},logout:function(t){t.status={},t.user=null}},Be={namespaced:!0,state:Ee,actions:Ne,mutations:Ae},Te=(i("a434"),{user:{data:{userUID:0,userId:"",name:"",surname:"",email:"",date:"",followers:0,following:0,profilePicUrl:""},avatar:null},userSearched:{data:{userUID:0,userId:"",name:"",surname:"",email:"",date:"",followers:0,following:0,profilePicUrl:""},avatar:null},followList:{data:[],avatars:{}},mutualList:[]}),Re={getOwnUserdata:function(t,e){var i=t.commit,n=localStorage.getItem("token")||null;if(n){var r=d.getUserData(n);r=r.subscribe((function(t){t&&t.userUID?i("setUserData",t):i("setUserDataAvatar",t)})),e.then((function(t){var e="getUserByToken";r.unsubscribe(),d.stopListenSocket(e)}))}},saveUserData:function(t,e){var i=t.commit;d.updateUserData(e).then((function(t){i("setUserData",e)}),(function(t){}))},resetUserData:function(t){var e=t.commit;e("setUserData",Te.user)},saveUserProfilePicture:function(t,e){var i=t.commit;e.picture;i("setUserData",qe)},findPublicProfile:function(t,e){var i=t.commit,n=e.userId,r=e.promise,o=d.getUserDataByUserId(n,i);o=o.subscribe((function(t){"UserNotFound"===t?Ce.push("/profile-not-found"):t&&t.userUID?i("setPublicProfile",t):t&&i("setPublicUserAvatar",t)})),r.then((function(t){var e="getUserByUserId";o.unsubscribe(),d.stopListenSocket(e)}))},followUser:function(t,e){var i=t.commit;d.followUser(e).then((function(t){i("setFollow",{toFollowUID:t[1],fromFollowUID:t[0]})}),(function(t){}))},unFollowUser:function(t,e){var i=t.commit;d.unFollowUser(e).then((function(t){i("setUnFollow",{toUnFollowUID:t[1],fromUnFollowUID:t[0]})}),(function(t){}))},findUserFollowList:function(t,e){var i=t.commit,n=e.userId,r=e.typeList;d.getUserFollowList(n,r).then((function(t){var e=t[0],n=t[1];i("setFollowListData",e||[]),i("setFollowListAvatar",n||[])}),(function(t){i("setFollowListData",[]),i("setFollowListAvatar",{})}))},findUserMutuals:function(t,e){var i=t.commit,n=e.userId;d.getUserMutualList(n).then((function(t){i("setMutualList",t)}),(function(t){i("setMutualList",[])}))},saveNewProfilePic:function(t,e){var i=t.commit;d.setNewProfilePic(e).then((function(t){}),(function(t){i("setMutualList",[])}))}},Me={setUserData:function(t,e){t.user.data={},t.user.data=e},setUserDataAvatar:function(t,e){var i=new Blob([e]),n=URL.createObjectURL(i);t.user.avatar=null,t.user.avatar=n},setPublicProfile:function(t,e){t.userSearched.data={},t.userSearched.data=e},setPublicUserAvatar:function(t,e){var i=new Blob([e]),n=URL.createObjectURL(i);t.userSearched.avatar=null,t.userSearched.avatar=n},setFollow:function(t,e){var i=e.toFollowUID;t.user.data.following&&t.user.data.following.length?t.user.data.following.push(i):t.user.data.following=[i]},setUnFollow:function(t,e){var i=e.toUnFollowUID;if(t.user.data.following&&t.user.data.following.length){var n=t.user.data.following.indexOf(i);n>-1&&t.user.data.following.splice(n,1)}},setFollowListData:function(t,e){t.followList.data=[],t.followList.data=e},setFollowListAvatar:function(t,e){var i={};Object.keys(e).forEach((function(t){var n=new Blob([e[t]]);i[t]=URL.createObjectURL(n)})),t.followList.avatars={},t.followList.avatars=i},setMutualList:function(t,e){t.mutualList=[],t.mutualList=e}},Je={getUserData:function(t,e){return JSON.parse(JSON.stringify(t.user))},getPublicProfile:function(t,e){return JSON.parse(JSON.stringify(t.userSearched))},getFollowList:function(t,e){return JSON.parse(JSON.stringify(t.followList))},getFollowListData:function(t,e){return JSON.parse(JSON.stringify(t.followList.data))},getFollowListAvatars:function(t,e){return JSON.parse(JSON.stringify(t.followList.avatars))},getMutualList:function(t,e){return JSON.parse(JSON.stringify(t.mutualList))}},qe={namespaced:!0,state:Te,actions:Re,mutations:Me,getters:Je},He={indirect:{dateUpdated:"",text:"",ownerName:"",ownerID:"",ownerProfilePic:""},indirects:{data:[],avatars:{}}},ze={addIndirect:function(t,e){t.commit;U.addIndirect(e).then((function(t){}),(function(t){console.log(t)}))},loadIndirects:function(t){var e=t.commit;U.loadIndirect().then((function(t){var i=t[0],n=t[1];e("setIndirectsData",i||[]),e("setIndirectsAvatars",n||[])}),(function(t){console.log(t)}))}},Ge={setIndirectsData:function(t,e){t.indirects.data=[],t.indirects.data=e.reverse()},setIndirectsAvatars:function(t,e){var i={};Object.keys(e).forEach((function(t){var n=new Blob([e[t]]);i[t]=URL.createObjectURL(n)})),t.indirects.avatars=[],t.indirects.avatars=i}},Ke={getIndirects:function(t){return JSON.parse(JSON.stringify(t.indirects))},getIndirectsData:function(t){return JSON.parse(JSON.stringify(t.indirects.data))},getIndirectsAvatars:function(t){return JSON.parse(JSON.stringify(t.indirects.avatars))}},Qe={namespaced:!0,state:He,actions:ze,mutations:Ge,getters:Ke};n["a"].use(c["a"]);var We=new c["a"].Store({modules:{account:Be,user:qe,indirect:Qe}}),Xe="https://indirect-back.herokuapp.com/",Ye=Xe,Ze=l()(Ye);function ti(t,e){var i={email:t,password:e};Ze=l.a.connect(Ye,{query:{op:"login",user:JSON.stringify(i)}});var n="getUserByLogin",r="getUserAvatarByLogin";Ze.on("connect",(function(){ri(n),oi(r)}))}function ei(t,e,i){var n={email:t,password:e,userId:i};Ze=l.a.connect(Ye,{query:{op:"createUser",user:JSON.stringify(n)}})}function ii(){return Ze}function ni(){return new Promise((function(t,e){var i=localStorage.getItem("token");if(i){Ze=l.a.connect(Ye,{query:{op:"token",token:i}});var n="getUserByToken",r="getUserAvatarByToken";Ze.on("connect",(function(){ri(n),oi(r),t(!0)})),Ze.on("error",(function(t){si(),e(t)}))}else e("Not token allowed")}))}function ri(t){Ze.on(t,(function(t){var e=We;t&&e["_mutations"]["user/setUserData"][0](t)}))}function oi(t){Ze.on(t,(function(t){var e=We;t&&e["_mutations"]["user/setUserDataAvatar"][0](t)}))}function ai(t){Ze.emit("updateUserData",t)}function si(){var t=We;t["_actions"]["account/logout"][0]()}function li(t){var e="findUserByUserId";Ze.emit(e,t)}function ci(t){var e="findUserByToken";Ze.emit(e,t)}function ui(t){var e=fi(),i="followUser",n={token:e,data:t};Ze.emit(i,n)}function di(t){var e=fi(),i="unFollowUser",n={token:e,data:t};Ze.emit(i,n)}function fi(){var t=We,e=t["state"]["account"]["token"]||localStorage.getItem("token");return e}function mi(t,e){var i="getUserFollowList",n=fi(),r={userId:t,typeList:e,token:n};Ze.emit(i,r)}function vi(t){var e="getUserMutuals",i=fi(),n={userId:t,token:i};Ze.emit(e,n)}function pi(t){var e=fi(),i="addIndirect",n={token:e,data:t};Ze.emit(i,n)}function gi(){var t=fi(),e="getIndirects",i={token:t};Ze.emit(e,i)}function hi(t){var e=fi(),i="setNewProfilePic",n={token:e,image:t,fileName:t.name};Ze.emit(i,n)}var bi={login:ti,getSocket:ii,reconnect:ni,createUser:ei,updateUserData:ai,getUserByUserId:li,followUser:ui,unFollowUser:di,getUserByToken:ci,getUserFollowList:mi,getUserMutualList:vi,addIndirect:pi,getIndirects:gi,setNewProfilePic:hi},wi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-container",{style:"background-color:"+this.$vuetify.theme.themes.light.base,attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("div",[n("v-img",{attrs:{src:i("06fe"),width:"250px",height:"250px"}}),n("div",{staticClass:"text-center"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)])],1)],1)},yi=[],Oi=function(t){function e(){return Object(E["a"])(this,e),Object(A["a"])(this,Object(B["a"])(e).apply(this,arguments))}return Object(T["a"])(e,t),e}(M["c"]);R["a"]([Object(M["b"])()],Oi.prototype,"isLoading",void 0),Oi=R["a"]([M["a"]],Oi);var ki=Oi,Ii=ki,Di=i("7496"),ji=i("a523"),Pi=i("a722"),xi=i("490a"),Ui=Object(z["a"])(Ii,wi,yi,!1,null,"5adbfb72",null),Li=Ui.exports;K()(Ui,{VApp:Di["a"],VContainer:ji["a"],VImg:nt["a"],VLayout:Pi["a"],VProgressCircular:xi["a"]});var _i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-navigation-drawer",{style:"background-color:"+this.$vuetify.theme.themes.light.base,attrs:{clipped:t.primaryDrawer.clipped,floating:t.primaryDrawer.floating,"mini-variant":t.primaryDrawer.mini,permanent:"permanent"===t.primaryDrawer.type,temporary:"temporary"===t.primaryDrawer.type,app:"",overflow:""},scopedSlots:t._u([t.account.status&&t.account.status.loggedIn?{key:"append",fn:function(){return[i("div",{staticClass:"pa-2"},[i("v-btn",{attrs:{block:"",color:"error"},on:{click:t.clickDisconect}},[t._v("Logout")])],1)]},proxy:!0}:null],null,!0),model:{value:t.primaryDrawer.model,callback:function(e){t.$set(t.primaryDrawer,"model",e)},expression:"primaryDrawer.model"}},[i("v-list",{staticClass:"py-0",attrs:{dense:"",nav:""}},[i("v-list-item",{attrs:{"two-line":"",to:"/profile",disabled:!(t.account.status&&t.account.status.loggedIn)}},[i("v-list-item-avatar",[i("img",{attrs:{src:t.user.avatar?t.user.avatar:t.defaultPic}})]),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.account.status&&t.account.status.loggedIn?t.user.data.userId:"User not logged"))]),i("v-list-item-subtitle",[t._v(t._s(t.account.status&&t.account.status.loggedIn?t.user.data.email:"Please log-in"))])],1)],1),i("v-divider"),t._l(t.items,(function(e){return i("v-list-item",{key:e.title,attrs:{to:e.route,link:"",disabled:!(t.account.status&&t.account.status.loggedIn)||e.disabled}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!(t.account.status&&t.account.status.loggedIn)}},[t._v(t._s(e.icon))])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e.title))])],1)],1)}))],2),i("v-divider"),i("v-list-item",{attrs:{disabled:""}},[i("v-list-item-title",{attrs:{disabled:""}},[t._v("Night Mode")]),i("v-switch",{attrs:{disabled:"",primary:""},model:{value:t.$vuetify.theme.dark,callback:function(e){t.$set(t.$vuetify.theme,"dark",e)},expression:"$vuetify.theme.dark"}})],1)],1),t.account.status&&t.account.status.loggedIn?i("v-app-bar",{style:"border-bottom:1px solid "+this.$vuetify.theme.themes.light.separator+"!important",attrs:{"clipped-left":t.primaryDrawer.clipped,app:"",extended:!1,color:"primary",elevation:"0"}},[t.navOptions[t.$route.fullPath.split("/")[1]||"default"]["navigationDrawer"]?i("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.primaryDrawer.model=!t.primaryDrawer.model}}}):i("v-btn",{attrs:{icon:""},on:{click:function(e){t.onRightClick(t.navOptions[t.$route.fullPath.split("/")[1]||"default"]["methodLeft"])}}},[i("v-icon",[t._v(t._s(t.navOptions[t.$route.fullPath.split("/")[1]||"default"]["iconLeft"]))])],1),i("v-spacer"),t.search.isActive?i("v-text-field",{on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnterSearch(e)}},model:{value:t.search.text,callback:function(e){t.$set(t.search,"text",e)},expression:"search.text"}}):i("v-toolbar-title",{staticStyle:{color:"white"}},[t._v(" "+t._s(t.navOptions&&t.navOptions[t.$route.fullPath.split("/")[1]||"default"]["title"]))]),i("v-spacer"),t.navOptions[t.$route.fullPath.split("/")[1]||"default"]["iconRight"]?i("v-btn",{attrs:{icon:""},on:{click:function(e){t.onRightClick(t.navOptions[t.$route.fullPath.split("/")[1]||"default"]["methodRight"])}}},[i("v-icon",[t._v(t._s(t.navOptions[t.$route.fullPath.split("/")[1]||"default"]["iconRight"]))])],1):t._e()],1):t._e()],1)},Si=[],Fi={default:{navigationDrawer:!0,title:"Indirect",iconRight:"mdi-magnify",methodRight:"onSearch"},profile:{navigationDrawer:!1,iconLeft:"mdi-arrow-left",methodLeft:"returnBack",title:"Profile",iconRight:"mdi-home",methodRight:"onHome"},following:{navigationDrawer:!1,iconLeft:"mdi-arrow-left",methodLeft:"returnBack",title:"Following",iconRight:"mdi-home",methodRight:"onHome"},followers:{navigationDrawer:!1,iconLeft:"mdi-arrow-left",methodLeft:"returnBack",title:"Followers",iconRight:"mdi-home",methodRight:"onHome"},"profile-not-found":{navigationDrawer:!1,iconLeft:"mdi-arrow-left",methodLeft:"returnBack",title:"Not found",iconRight:"mdi-home",methodRight:"onHome"},add:{navigationDrawer:!1,iconLeft:"mdi-arrow-left",methodLeft:"returnBack",title:"New Indirect",iconRight:"mdi-home",methodRight:"onHome"}},Ci=function(t){function e(){var t;return Object(E["a"])(this,e),t=Object(A["a"])(this,Object(B["a"])(e).apply(this,arguments)),t.navOptions=Fi,t.primaryDrawer={model:null,type:"default (no property)",clipped:!1,floating:!1,mini:!1},t.items=[{title:"Home",icon:"dashboard",route:"/",disabled:!1},{title:"Chat (not yet)",icon:"chat",route:"/messages",disabled:!0},{title:"Account",icon:"account_box",route:"/profile",disabled:!1}],t.search={isActive:!1,text:""},t.defaultPic="https://iupac.org/wp-content/uploads/2018/05/default-avatar.png",t}return Object(T["a"])(e,t),Object(N["a"])(e,[{key:"clickDisconect",value:function(){this.$emit("clickDisconect")}},{key:"onEnterSearch",value:function(){var t=this.search.text;this.$emit("onEnterSearch",t)}},{key:"onSearch",value:function(){this.search.isActive=!this.search.isActive}},{key:"onRightClick",value:function(t){this[t]()}},{key:"returnBack",value:function(){this.$router.go(-1)}},{key:"onHome",value:function(){this.$router.push("/")}}]),e}(M["c"]);R["a"]([Object(M["b"])()],Ci.prototype,"account",void 0),R["a"]([Object(M["b"])()],Ci.prototype,"user",void 0),Ci=R["a"]([M["a"]],Ci);var Vi=Ci,$i=Vi,Ei=i("40dc"),Ni=i("5bc1"),Ai=i("ce7e"),Bi=i("34c3"),Ti=i("f774"),Ri=i("2fa4"),Mi=i("b73d"),Ji=i("2a7f"),qi=Object(z["a"])($i,_i,Si,!1,null,null,null),Hi=qi.exports;function zi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Gi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?zi(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):zi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}K()(qi,{VAppBar:Ei["a"],VAppBarNavIcon:Ni["a"],VBtn:X["a"],VDivider:Ai["a"],VIcon:it["a"],VList:Dt["a"],VListItem:rt["a"],VListItemAvatar:ot["a"],VListItemContent:at["a"],VListItemIcon:Bi["a"],VListItemSubtitle:at["b"],VListItemTitle:at["c"],VNavigationDrawer:Ti["a"],VSpacer:Ri["a"],VSwitch:Mi["a"],VTextField:jt["a"],VToolbarTitle:Ji["a"]});var Ki=n["a"].extend({components:{Spinner:Li,HeaderNav:Hi},mounted:function(){var t=this;bi.reconnect().then((function(e){setTimeout((function(){return t.isLoading=!1}),1e3)}),(function(e){t.isLoading=!1}))},methods:Gi({},Object(c["b"])("account",["logout"]),{clickDisconect:function(){this.logout()},onEnterSearch:function(t){var e="/profile/".concat(t);Ce.push(e),this.search.isActive=!1,this.search.text=""}}),computed:Gi({},Object(c["d"])({account:function(t){return t.account},user:function(t){return t.user.user}})),data:function(){return{isLoading:!0,search:{isActive:!1,text:""}}}}),Qi=Ki,Wi=i("a75b"),Xi=Object(z["a"])(Qi,r,o,!1,null,null,null),Yi=Xi.exports;K()(Xi,{VApp:Di["a"],VContent:Wi["a"]});var Zi=i("9483");Object(Zi["a"])("".concat("/indirect/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var tn=i("f309");n["a"].use(tn["a"]);var en=new tn["a"]({theme:{themes:{light:{primary:"#26C6DA",secondary:"#f3aa82",base:"#fff6ed",text:"#455A64",separator:"#abd1d6",indirect1:"",indirect2:"",indirect3:"",indirect4:""},dark:{primary:"#121E3A",secondary:"#3D67C2",base:"#3D67C2",text:"#3D67C2",separator:"#3D67C2",indirect1:"",indirect2:"",indirect3:"",indirect4:""}}}});i("d1e78");n["a"].config.productionTip=!1,new n["a"]({router:Ce,store:We,vuetify:en,render:function(t){return t(Yi)}}).$mount("#app")},d10e:function(t,e,i){}});
//# sourceMappingURL=app.e53e97eb.js.map